<html>
<head>
    <title>Search Wiz</title>

<style>

    body {
        padding:20px;
        text-align: center;
        font-family: sans-serif;
    }
    .content {
        display:inline-block;
    }
    .search-input {
        height:50px;
        width:400px;
        font-size:30px;

    }
    .search-button {
        margin:30px;
        height:50px;
        width:400px;
        font-size:30px;
        background: white;
        border: 1px solid #777;
        border-radius: 5px;
    }
    .search-button:hover {
        background: #f2f2f2;
    }

</style>
</head>
<body>

<div class="content">

    <input type="text" class="search-input" name="search"><br><br><br>

    <input type="radio" id="by-keyword" name="searchtype" value="keyword" checked> by Keyword &nbsp; &nbsp;
    <input type="radio" id="by-id" name="searchtype" value="id"> by Id<br>
    <button class="search-button">Search</button>

    <div class="response"></div>
</div>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
<script>
    $(function() {

        $('.search-button').click(function(event) {
            $('.response').html( '' );
            var input = $('.search-input').val();
            var searchType = $("input:radio[name ='searchtype']:checked").val();
            var url = (searchType === 'keyword') ? '/search/keyword/' + input : '/search/track/id/' + input;

            $.ajax({
              url: url
            })
            .done(function( data ) {
                var output = '';
                if(data.id) {
                    output = '[' + data.title + ' ' + data.id + ']';
                } else if(data.length){
                    _.each(data, function(song) {
                        output += '[' + song.title + ' ' + song.id + ']';
                    })
                }
                $('.response').html( output );
            });

        });

    });
</script>

</body>
</html>
